# cn-nm

> ä¸€ä¸ªé«˜æ€§èƒ½çš„ä¸­æ–‡æ•°å­—ä¸é˜¿æ‹‰ä¼¯æ•°å­—äº’è½¬åº“ï¼Œæ”¯æŒ TypeScript

[![NPM Version](https://img.shields.io/npm/v/cn-nm.svg)](https://www.npmjs.com/package/cn-nm)
[![Build Status](https://img.shields.io/github/workflow/status/2ue/cn-nm/CI)](https://github.com/2ue/cn-nm)
[![Coverage](https://img.shields.io/codecov/c/github/2ue/cn-nm)](https://codecov.io/gh/2ue/cn-nm)
[![TypeScript](https://img.shields.io/badge/TypeScript-Ready-blue.svg)](https://www.typescriptlang.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[ä¸­æ–‡](https://github.com/2ue/cn-nm) | [English](./doc/en/README_en.md)

## âœ¨ ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½** - ä¼˜åŒ–çš„ç®—æ³•ï¼Œå¿«é€Ÿè½¬æ¢
- ğŸ“¦ **é›¶ä¾èµ–** - æ— ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œä½“ç§¯å°å·§
- ğŸ›¡ï¸ **TypeScript** - å®Œæ•´çš„ TypeScript æ”¯æŒå’Œç±»å‹å®šä¹‰  
- ğŸŒ **å¤šæ ¼å¼æ”¯æŒ** - æ”¯æŒ ESMã€CommonJS å’Œ UMD
- âœ… **å…¨é¢æµ‹è¯•** - 100% æµ‹è¯•è¦†ç›–ç‡ï¼Œ50/50 æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- ğŸ”¢ **å¤§æ•°æ”¯æŒ** - æ”¯æŒè¶…å¤§æ•°å­—çš„å­—ç¬¦ä¸²å½¢å¼è¾“å…¥
- ğŸ¯ **ç²¾ç¡®è½¬æ¢** - æ”¯æŒå°æ•°ç‚¹è½¬æ¢

## ğŸ“¦ å®‰è£…

```bash
npm install cn-nm
```

```bash
yarn add cn-nm
```

```bash
pnpm add cn-nm
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ES Modules (æ¨è)

```javascript
import { toCn, toNm } from 'cn-nm';

// æ•°å­—è½¬ä¸­æ–‡
console.log(toCn(123)); // å£¹ä½°è´°æ‹¾å
console.log(toCn(1024)); // å£¹ä»Ÿé›¶è´°æ‹¾è‚†

// ä¸­æ–‡è½¬æ•°å­—
console.log(toNm('å£¹ä½°è´°æ‹¾å')); // 123
console.log(toNm('å£¹ä»Ÿé›¶è´°æ‹¾è‚†')); // 1024
```

### CommonJS

```javascript
const { toCn, toNm } = require('cn-nm');

toCn(123); // å£¹ä½°è´°æ‹¾å
toNm('å£¹ä½°è´°æ‹¾å'); // 123
```

### TypeScript

```typescript
import { toCn, toNm } from 'cn-nm';

// å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ
const chineseNumber: string = toCn(123);
const arabicNumber: number = toNm('å£¹ä½°è´°æ‹¾å');
```

## ğŸ“– API æ–‡æ¡£

### `toCn(num: number | string): string`

å°†é˜¿æ‹‰ä¼¯æ•°å­—è½¬æ¢ä¸ºä¸­æ–‡æ•°å­—

**å‚æ•°:**
- `num` - è¦è½¬æ¢çš„æ•°å­—ï¼ˆæ•°å­—ç±»å‹æˆ–å­—ç¬¦ä¸²ç±»å‹ï¼‰

**è¿”å›å€¼:**
- `string` - è½¬æ¢åçš„ä¸­æ–‡æ•°å­—å­—ç¬¦ä¸²

**ç¤ºä¾‹:**
```javascript
toCn(123)           // "å£¹ä½°è´°æ‹¾å"
toCn(1000)          // "å£¹ä»Ÿ"
toCn(10001)         // "å£¹ä¸‡é›¶å£¹"
toCn(123.45)        // "å£¹ä½°è´°æ‹¾åç‚¹è‚†ä¼"
toCn("999999999")   // "ç–äº¿ç–ä»Ÿç–ä½°ç–æ‹¾ç–ä¸‡ç–ä»Ÿç–ä½°ç–æ‹¾ç–"
```

### `toNm(chineseStr: string): number`

å°†ä¸­æ–‡æ•°å­—è½¬æ¢ä¸ºé˜¿æ‹‰ä¼¯æ•°å­—

**å‚æ•°:**
- `chineseStr` - ä¸­æ–‡æ•°å­—å­—ç¬¦ä¸²

**è¿”å›å€¼:**
- `number` - è½¬æ¢åçš„é˜¿æ‹‰ä¼¯æ•°å­—

**ç¤ºä¾‹:**
```javascript
toNm('å£¹ä½°è´°æ‹¾å')          // 123
toNm('å£¹ä»Ÿ')               // 1000  
toNm('å£¹ä¸‡é›¶å£¹')           // 10001
toNm('å£¹ä½°è´°æ‹¾åç‚¹è‚†ä¼')    // 123.45
toNm('æ‹¾')                 // 10
toNm('ä½°')                 // 100
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### é‡‘é¢è½¬æ¢
```javascript
const amount = 1234.56;
const chineseAmount = toCn(amount);
console.log(`äººæ°‘å¸ ${chineseAmount} å…ƒæ•´`); 
// äººæ°‘å¸ å£¹ä»Ÿè´°ä½°åæ‹¾è‚†ç‚¹ä¼é™† å…ƒæ•´
```

### å¤§æ•°å¤„ç†
```javascript
// å¯¹äºè¶…å¤§æ•°å­—ï¼Œå»ºè®®ä½¿ç”¨å­—ç¬¦ä¸²å½¢å¼ä¼ å…¥
const largeNumber = "123456789012345";
const chineseLarge = toCn(largeNumber);
console.log(chineseLarge);
// å£¹ä½°è´°æ‹¾åä¸‡è‚†ä»Ÿä¼ä½°é™†æ‹¾æŸ’äº¿æŒä»Ÿç–ä½°é›¶å£¹ä¸‡è´°ä»Ÿåä½°è‚†æ‹¾ä¼
```

### è¡¨å•éªŒè¯
```javascript
function validateChineseNumber(input) {
    const number = toNm(input);
    // æœ‰æ•ˆçš„ä¸­æ–‡æ•°å­—ä¼šè¿”å›å¯¹åº”æ•°å€¼ï¼Œæ— æ•ˆè¾“å…¥è¿”å›0
    // æ³¨æ„ï¼š"é›¶"æ˜¯æœ‰æ•ˆè¾“å…¥ï¼Œä¼šè¿”å›0ï¼Œéœ€è¦ç‰¹æ®Šåˆ¤æ–­
    return number > 0 || input === 'é›¶';
}

console.log(validateChineseNumber('å£¹ä½°'));    // true
console.log(validateChineseNumber('é›¶'));      // true  
console.log(validateChineseNumber('æ— æ•ˆè¾“å…¥')); // false
console.log(validateChineseNumber('å£¹å£¹'));    // false (è¿ç»­é‡å¤å­—ç¬¦)
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°å­—èŒƒå›´**: 
   - `toCn` æ”¯æŒæœ€å¤§çº¦ 999999999999 (ä¸‡äº¿çº§åˆ«)
   - è¶…å‡ºèŒƒå›´è¿”å›ç©ºå­—ç¬¦ä¸²
   - è´Ÿæ•°ã€æ— ç©·å¤§ã€NaN ç­‰æ— æ•ˆè¾“å…¥è¿”å›ç©ºå­—ç¬¦ä¸²

2. **è¾“å…¥éªŒè¯**: 
   - `toNm` ä¸¥æ ¼éªŒè¯ä¸­æ–‡æ•°å­—æ ¼å¼ï¼Œç¬¦åˆç”Ÿæ´»å®é™…é€»è¾‘
   - æ‹’ç»è¿ç»­ç›¸åŒå­—ç¬¦ (å¦‚"å£¹å£¹"ã€"ä¸‡ä¸‡")
   - æ‹’ç»å•ä½é”™åº (å¦‚"ä¸‡äº¿"ã€"å£¹ä¸‡æ‹¾")
   - æ‹’ç»ç¼ºå°‘æ•´æ•°æˆ–å°æ•°éƒ¨åˆ† (å¦‚"ç‚¹å£¹"ã€"å£¹ç‚¹")
   - æ— æ•ˆè¾“å…¥ç»Ÿä¸€è¿”å› 0

3. **å°æ•°æ”¯æŒ**: 
   - ä½¿ç”¨"ç‚¹"å­—ç¬¦åˆ†éš”æ•´æ•°å’Œå°æ•°éƒ¨åˆ†
   - æ”¯æŒ 0.5 -> "é›¶ç‚¹ä¼" çš„è½¬æ¢
   - è‡ªåŠ¨å¤„ç† 1.0ã€00.5 ç­‰ç‰¹æ®Šæ ¼å¼

4. **å•ä½å±‚çº§**: 
   - å°å•ä½: æ‹¾(10)ã€ä½°(100)ã€ä»Ÿ(1000) å¯å•ç‹¬å­˜åœ¨
   - å¤§å•ä½: ä¸‡ã€äº¿ç­‰ä¸èƒ½å•ç‹¬å­˜åœ¨
   - æ”¯æŒè·¨çº§é‡å¤: "å£¹æ‹¾ä¸‡ä¼æ‹¾" (åˆç†)
   - æ‹’ç»åŒçº§é‡å¤: "ä¸‡ä¸‡"ã€"å£¹å£¹" (ä¸åˆç†)

## ğŸ§ª æ”¯æŒçš„æ•°å­—æ ¼å¼

### åŸºæœ¬æ•°å­—
- é›¶ã€å£¹ã€è´°ã€åã€è‚†ã€ä¼ã€é™†ã€æŸ’ã€æŒã€ç–

### å•ä½
- å°å•ä½: æ‹¾ã€ä½°ã€ä»Ÿ  
- å¤§å•ä½: ä¸‡ã€äº¿ã€å…†ã€äº¬ã€å“ã€ç§­ã€ç©°ã€æ²Ÿã€æ¶§ã€æ­£ã€è½½ã€æã€æ’æ²³æ²™ã€é˜¿åƒ§ç¥—ã€é‚£ç”±ä»–ã€ä¸å¯æ€è®®ã€æ— é‡ã€å¤§æ•°

### ç‰¹æ®Šæƒ…å†µå¤„ç†
- **å°æ•°**: "å£¹ç‚¹ä¼" = 1.5ï¼Œ"é›¶ç‚¹ä¼" = 0.5
- **é›¶çš„å¤„ç†**: æ™ºèƒ½æ·»åŠ å’Œå»é™¤é›¶ï¼Œç¬¦åˆä¸­æ–‡è¡¨è¾¾ä¹ æƒ¯
- **å•ç‹¬å•ä½**: "æ‹¾"=10, "ä½°"=100, "ä»Ÿ"=1000 (åˆæ³•)
- **æ ¼å¼æ ‡å‡†åŒ–**: 00.5 -> 0.5, 1.00 -> 1
- **è¾¹ç•Œå€¼**: ç©ºè¾“å…¥ã€nullã€undefined ç­‰è¿”å›ç›¸åº”é»˜è®¤å€¼

## ğŸ› ï¸ å¼€å‘

### å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/2ue/cn-nm.git
cd cn-nm
```

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¯ç”¨è„šæœ¬

```bash
# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç è´¨é‡æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥  
npm run type-check

# æ ¼å¼åŒ–ä»£ç 
npm run format

# æ„å»ºé¡¹ç›®
npm run build

# ç›‘å¬æ¨¡å¼å¼€å‘
npm run dev
```

### æµ‹è¯•è¦†ç›–ç‡
```bash
npm run test:coverage
```

## ğŸ“Š æ€§èƒ½å’Œè´¨é‡

- âœ… 50/50 æµ‹è¯•ç”¨ä¾‹é€šè¿‡ (100% æˆåŠŸç‡)
- âœ… é›¶ ESLint é”™è¯¯å’Œè­¦å‘Š  
- âœ… å®Œæ•´ TypeScript ç±»å‹å®‰å…¨
- âœ… æ”¯æŒ Tree Shaking
- âœ… æå°æ‰“åŒ…ä½“ç§¯ (~5KB)
- âœ… æ™ºèƒ½çš„ç”Ÿæ´»åŒ–é€»è¾‘éªŒè¯
- âœ… å…¨é¢çš„è¾¹ç•Œæ¡ä»¶å¤„ç†

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.0.24 (æœ€æ–°)
- ğŸ”„ å®Œæ•´é‡æ„ä¸º TypeScriptï¼Œæä¾›å®Œæ•´ç±»å‹æ”¯æŒ
- âœ… ä¿®å¤ toNm å‡½æ•°å…³é”®éªŒè¯é€»è¾‘ï¼Œç¬¦åˆç”Ÿæ´»å®é™…åœºæ™¯
- ğŸ§  æ™ºèƒ½è¿ç»­å­—ç¬¦æ£€æµ‹ï¼ŒåŒºåˆ†åˆç†å’Œä¸åˆç†çš„é‡å¤
- ğŸ“¦ ä¼˜åŒ–æ„å»ºé…ç½®ï¼Œæ”¯æŒ ESM/CommonJS/UMD å¤šæ ¼å¼
- ğŸ§ª æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 100% (50/50)
- ğŸ› ï¸ é›†æˆ ESLintã€Prettier ç°ä»£å¼€å‘å·¥å…·é“¾
- ğŸ¯ å¢å¼ºè¾¹ç•Œæ¡ä»¶å¤„ç†å’Œé”™è¯¯éªŒè¯
- ğŸ“š å®Œå–„é¡¹ç›®æ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

## ğŸ“„ è®¸å¯è¯

[MIT](https://opensource.org/licenses/MIT)

Copyright (c) 2024-present, 2ue

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª starï¼